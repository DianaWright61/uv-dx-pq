<?xml version="1.0" encoding="UTF-8"?>
<PackagedProductDefinition xmlns="http://hl7.org/fhir">
    <!--    <id value="packageDefinition"/>-->
    <id value="packagedproductdefinition-dxpq-ex1"/>
    
    <meta>
        <profile
            value="http://hl7.org/fhir/uv/dx-pq/StructureDefinition/PackagedProductDefinition-dxpq"/>
    </meta>
    
    
    <packageFor>
        <!--        <reference value="MedicinalProductDefinition/product"/>-->
        <reference
            value="MedicinalProductDefinition/medicinalproductdefinition-drug-product-dxpq-ex1"/>
    </packageFor>
    <!-- #174 -->
    <description
        value="Any textual comments that describe the sum of container closure system (CCS) components that together contain and protect the dosage form or drug substance."/>
    <!-- secondary packaging -->
    <!-- #195 -->
    <packaging>

        <!-- Supporting narrative - need a comment or maybe a property #182 -->
        <type>
            <coding>
                <system value="http://hl7.org/fhir/packaging-type"/>
                <code value="100000073498"/>
                <display value="Box"/>
            </coding>
        </type>
        <material>
            <coding>
                <system value="http://hl7.org/fhir/package-material"/>
                <code value="200000003529"/>
                <display value="Cardboard"/>
            </coding>
        </material>
        <shelfLifeStorage>
            <periodDuration>
                <!-- #232 -->
                <value value="2"/>
                <!-- year -->
                <unit value="a"/>
            </periodDuration>
        </shelfLifeStorage>
        <manufacturer>
            <!--            <reference value="Organization/boxManufacturer"/>-->
            <reference value="Organization/organization-dxpq-ex1"/>
        </manufacturer>
        <property>
            <!-- #196 -->
            <type>
                <coding>
                    <system value="http://example.org/fhir/code/packageProperty"/>
                    <code value="xxxx"/>
                    <display value="Functional"/>
                </coding>
            </type>
            <valueBoolean value="false"/>
        </property>
        <property>
            <type>
                <coding>
                    <system value="http://example.org/fhir/code/packageProperty"/>
                    <code value="xxxx"/>
                    <display value="Quality Standard"/>
                </coding>
            </type>
            <valueCodeableConcept>
                <coding>
                    <system value="http://example.org/fhir/code/grade"/>
                    <code value="USP"/>
                    <display value="USP"/>
                </coding>
            </valueCodeableConcept>
        </property>
        <!-- closure for secondary packaging -->
        <packaging>
            <!-- #203 -->
            <type>
                <coding>
                    <system value="http://example.org/fhir/code/closureTypes"/>
                    <code value="1d2344"/>
                    <display value="Tape"/>
                </coding>
            </type>
            <!-- #204 -->
            <material>
                <coding>
                    <system value="http://example.org/fhir/code/material"/>
                    <!-- TODO use EMA ones -->
                    <code value="200000003208"/>
                    <display value="Plastic"/>
                </coding>
            </material>
            <!-- #206 -->
            <manufacturer>
                <!--                <reference value="Organization/capManufacturer"/>-->
                <reference value="Organization/organization-dxpq-ex1"/>
            </manufacturer>
            <!-- #205 -->
            <property>
                <type>
                    <coding>
                        <system value="http://example.org/fhir/code/packageProperty"/>
                        <code value="xxxx"/>
                        <display value="Quality Specification"/>
                    </coding>
                </type>
                <valueCodeableConcept>
                    <text value="Quality Specification for closure is described"/>
                </valueCodeableConcept>
            </property>
            <!-- #207 -->
            <property>
                <type>
                    <coding>
                        <system value="http://example.org/fhir/code/packageProperty"/>
                        <code value="xxxx"/>
                        <display value="Quality Standard"/>
                    </coding>
                </type>
                <valueCodeableConcept>
                    <coding>
                        <system value="http://example.org/fhir/code/grade"/>
                        <code value="BP"/>
                        <display value="Closure Quality Standard"/>
                    </coding>
                </valueCodeableConcept>
            </property>
            <!-- #208 -->
            <property>
                <type>
                    <coding>
                        <system value="http://example.org/fhir/code/packageProperty"/>
                        <code value="xxxx"/>
                        <display value="Narrative"/>
                    </coding>
                </type>
                <valueCodeableConcept>
                    <text value="Closure - Suitability, protection, safety: conformance to criteria, performance, compabilitity"/>
                </valueCodeableConcept>
            </property>
            <!-- #189 -->
            <property>
                <type>
                    <coding>
                        <system value="http://example.org/fhir/code/closureProperties"/>
                        <code value="1123ss"/>
                        <display value="Integrity Test"/>
                    </coding>
                </type>
                <valueCodeableConcept>
                    <text
                        value="Containerâ€“closure integrity test is any package leak test (either physicochemical or microbiological) that detects the presence of a package breach or gap."
                    />
                </valueCodeableConcept>
            </property>
        </packaging>
        <!-- #176 -->
        <packaging>
            <!-- primary packaging -->
            <!-- Supporting narrative - need a comment or maybe a property #182 -->
            <type>
                <!-- #177 -->
                <coding>
                    <system value="http://hl7.org/fhir/packaging-type"/>
                    <code value="100000073497"/>
                    <display value="Bottle"/>
                </coding>
            </type>
            <!-- #178 -->
            <material>
                <coding>
                    <system value="http://hl7.org/fhir/package-material"/>
                    <code value="200000003203"/>
                    <display value="Glass"/>
                </coding>
            </material>
            <!-- #180 -->
            <manufacturer>
<!--                <reference value="Organization/bottleManufacturer"/>-->
                <reference value="Organization/organization-dxpq-ex1"/>
            </manufacturer>
            <!-- #179 -->
            <property>
                <type>
                    <coding>
                        <system value="http://example.org/fhir/code/packageProperty"/>
                        <code value="xxxx"/>
                        <display value="Quality Specification"/>
                    </coding>
                </type>
                <valueCodeableConcept>
                    <text value="Quality Specification is described"/>
                </valueCodeableConcept>
            </property>
            <!-- #181 -->
            <property>
                <type>
                    <coding>
                        <system value="http://example.org/fhir/code/packageProperty"/>
                        <code value="xxxx"/>
                        <display value="Quality Standard"/>
                    </coding>
                </type>
                <valueCodeableConcept>
                    <coding>
                        <system value="http://example.org/fhir/code/grade"/>
                        <code value="USP"/>
                        <display value="USP"/>
                    </coding>
                </valueCodeableConcept>
            </property>
            <!-- #182 -->
            <property>
                <type>
                    <coding>
                        <system value="http://example.org/fhir/code/packageProperty"/>
                        <code value="xxxx"/>
                        <display value="Narrative"/>
                    </coding>
                </type>
                <valueCodeableConcept>
                    <text
                        value="Suitability, protection, safety: conformance to criteria, performance, compabilitity"
                    />
                </valueCodeableConcept>
            </property>
            <!-- #192 -->
            <property>
                <type>
                    <coding>
                        <system value="http://example.org/fhir/code/packageProperty"/>
                        <code value="xxxx"/>
                        <display value="Container Size"/>
                    </coding>
                </type>
                <valueQuantity>
                    <!-- #192 -->
                    <value value="250"/>
                    <!-- #193 -->
                    <unit value="ml"/>
                </valueQuantity>
            </property>
            <containedItem>
                <item>
                    <extension url="http://hl7.org/fhir/StructureDefinition/data-absent-reason">
                        <valueCode value="unsupported"/>
                    </extension>
                </item>
                <amount>
                    <!-- #190 -->
                    <value value="100"/>
                    <!-- #191 -->
                    <unit value="mg"/>
                </amount>
            </containedItem>
            <!-- closure -->
            <packaging>
                <!-- technically the closure is inside the bottle but they are both part of the "bottle plus cap ensemble"
                                 but the sense of "packaging" isn't literally containment, it's more like "has" -->
                <!-- #183 -->
                <type>
                    <coding>
                        <system value="http://example.org/fhir/code/closureTypes"/>
                        <code value="112344"/>
                        <display value="Child Proof Cap"/>
                    </coding>
                </type>
                <!-- #184 -->
                <material>
                    <coding>
                        <!-- TODO use EMA ones -->
                        <system value="http://example.org/fhir/code/material"/>
                        <code value="112344ss"/>
                        <display value="PVC"/>
                    </coding>
                </material>
                <!-- #186 -->
                <manufacturer>
<!--                    <reference value="Organization/capManufacturer"/>-->
                    <reference value="Organization/organization-dxpq-ex1"/>
                </manufacturer>
                <!-- #185 -->
                <property>
                    <type>
                        <coding>
                            <system value="http://example.org/fhir/code/packageProperty"/>
                            <code value="xxxx"/>
                            <display value="Quality Specification"/>
                        </coding>
                    </type>
                    <valueCodeableConcept>
                        <text value="Quality Specification for closure is described"/>
                    </valueCodeableConcept>
                </property>
                <!-- #187 -->
                <property>
                    <type>
                        <coding>
                            <system value="http://example.org/fhir/code/packageProperty"/>
                            <code value="xxxx"/>
                            <display value="Quality Standard"/>
                        </coding>
                    </type>
                    <valueCodeableConcept>
                        <coding>
                            <system value="http://example.org/fhir/code/grade"/>
                            <code value="BP"/>
                            <display value="Closure Quality Standard"/>
                        </coding>
                    </valueCodeableConcept>
                </property>
                <!-- #188 -->
                <property>
                    <type>
                        <coding>
                            <system value="http://example.org/fhir/code/packageProperty"/>
                            <code value="xxxx"/>
                            <display value="Narrative"/>
                        </coding>
                    </type>
                    <valueCodeableConcept>
                        <text
                            value="Closure - Suitability, protection, safety: conformance to criteria, performance, compabilitity"
                        />
                    </valueCodeableConcept>
                </property>
                <!-- #189 -->
                <property>
                    <type>
                        <coding>
                            <system value="http://example.org/fhir/code/closureProperties"/>
                            <code value="1123ss"/>
                            <display value="Integrity Test"/>
                        </coding>
                    </type>
                    <valueCodeableConcept>
                        <text value="Containerâ€“closure integrity test is any package leak test (either physicochemical or microbiological) that detects the presence of a package breach or gap."/>
                    </valueCodeableConcept>
                </property>
            </packaging>
        </packaging>
    </packaging>
</PackagedProductDefinition>